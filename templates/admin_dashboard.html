<!DOCTYPE html>
<html>
<head>
  <title>Admin Dashboard</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <h1>üßë‚Äçüíº Admin Dashboard</h1>
  <p>Welcome, {{ user.name }} (<a href="/logout">Logout</a>)</p>

  <h2>Ingredients (Stock Control)</h2>
  <ul>
    {% for ing in ingredients %}
      <li>
        {{ ing.name }} - Stock: {{ ing.stock_quantity }}
        <form method="post" action="/admin/update_stock" style="display:inline;">
          <input type="hidden" name="ingredient_id" value="{{ ing.id }}">
          <input type="number" step="0.1" name="new_stock" placeholder="New stock..." required>
          <button type="submit">Update</button>
        </form>
      </li>
    {% endfor %}
  </ul>

  <hr>

  <h2>Add New Ingredient</h2>
  <form method="post" action="/admin/add_ingredient">
    <input name="name" placeholder="Ingredient name" required>
    <input type="number" step="0.1" name="quantity" placeholder="Initial stock" required>
    <button type="submit">Add</button>
  </form>

  <hr>

  <h2>Add New Menu Item</h2>
  <form method="post" action="/admin/add_menu_item">
    <input name="name" placeholder="Dish name" required>
    <input type="number" step="0.1" name="price" placeholder="Price" required>
    <br><br>
    <p>Select ingredients and amount (ID:amount, comma-separated, e.g. 1:2,3:1):</p>
    <input name="recipe" placeholder="1:2,3:1">
    <button type="submit">Add Dish</button>
  </form>

  <hr>

  <h2>Update Menu Item Price</h2>
  <ul>
    {% for item in menu %}
      <li>
        {{ item.name }} - ${{ item.price }}
        <form method="post" action="/admin/update_price" style="display:inline;">
          <input type="hidden" name="item_id" value="{{ item.id }}">
          <input type="number" step="0.1" name="new_price" placeholder="New price" required>
          <button type="submit">Update</button>
        </form>
      </li>
    {% endfor %}
  </ul>
</body>
</html>
